@model IEnumerable<MyShopWeb.ViewModels.CategoryViewModel>

@{
	ViewBag.Title = "Index";
	Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<div class="row">
	<div class="card">
		<div class="card-header">
			<h3 class="card-title">Categories List</h3>
			<div class="card-tools">
				@Html.ActionLink("Create New", "Create")
			</div>
		</div>
		<!-- /.card-header -->
		<div class="card-body">
			<table id="example1" class="table table-bordered table-striped">
				<thead>
					<tr>
						<th>
							Category Name
						</th>
						<th>
							Description
						</th>
						<th>
							Parent Category
						</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model)
					{
						<tr>
							<td>
								@Html.DisplayFor(modelItem => item.Name)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Description)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.ParentName)
							</td>
							<td>
								@Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
								@Html.ActionLink("Details", "Details", new { id = item.Id }) |
								@Html.ActionLink("Delete", "Delete", new { id = item.Id }) |
								@Html.ActionLink("Create", "Create", new { parentCategoryId = item.Id })
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
		<!-- /.card-body -->
		<script>
  $(function () {
    $("#example1").DataTable({
      "responsive": true, "lengthChange": false, "autoWidth": false,
      "buttons": ["copy", "csv", "excel", "pdf"]
    }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "responsive": true,
    });
  });
		</script>
	</div>
</div>
